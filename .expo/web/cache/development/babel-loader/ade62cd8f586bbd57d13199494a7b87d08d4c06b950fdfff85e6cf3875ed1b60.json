{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nvar authSlice = createSlice({\n  name: \"authenticate\",\n  initialState: {\n    token: \"\",\n    isAuthenticated: false\n  },\n  reducers: {\n    authenticate: function authenticate(state, action) {\n      state.token = action.payload;\n      state.isAuthenticated = !!action.payload;\n      AsyncStorage.setItem(\"token\", state.token);\n    },\n    logout: function logout(state, action) {\n      state.token = \"\";\n      state.isAuthenticated = false;\n    }\n  }\n});\nexport var updateAsyncStorage = function updateAsyncStorage(token) {\n  var asyncStored = function () {\n    var _ref = _asyncToGenerator(function* (dispatch) {\n      try {\n        dispatch(authenticate(token));\n        yield AsyncStorage.setItem(\"token\", token);\n      } catch (error) {\n        console.error(error);\n      }\n    });\n    return function asyncStored(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return asyncStored;\n};\nvar _authSlice$actions = authSlice.actions,\n  authenticate = _authSlice$actions.authenticate,\n  logout = _authSlice$actions.logout;\nexport { authenticate, logout };\nexport var authReducer = authSlice.reducer;","map":{"version":3,"names":["createSlice","AsyncStorage","authSlice","name","initialState","token","isAuthenticated","reducers","authenticate","state","action","payload","setItem","logout","updateAsyncStorage","asyncStored","_ref","_asyncToGenerator","dispatch","error","console","_x","apply","arguments","_authSlice$actions","actions","authReducer","reducer"],"sources":["/Users/anyakolesnishenko/Desktop/projects/LogApp/store/authReducer.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nconst authSlice = createSlice({\n  name: \"authenticate\",\n  initialState: {\n    token: \"\",\n    isAuthenticated: false,\n  },\n  reducers: {\n    authenticate: (state, action) => {\n      state.token = action.payload;\n      state.isAuthenticated = !!action.payload;\n      AsyncStorage.setItem(\"token\", state.token);\n    },\n    logout: (state, action) => {\n      state.token = \"\";\n      state.isAuthenticated = false;\n    },\n  },\n});\n\nexport const updateAsyncStorage = (token) => {\n  const asyncStored = async (dispatch) => {\n    try {\n      dispatch(authenticate(token));\n\n      await AsyncStorage.setItem(\"token\", token);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  return asyncStored;\n};\n\nexport const { authenticate, logout } = authSlice.actions;\nexport const authReducer = authSlice.reducer;\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,YAAY,MAAM,2CAA2C;AAEpE,IAAMC,SAAS,GAAGF,WAAW,CAAC;EAC5BG,IAAI,EAAE,cAAc;EACpBC,YAAY,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,eAAe,EAAE;EACnB,CAAC;EACDC,QAAQ,EAAE;IACRC,YAAY,EAAE,SAAAA,aAACC,KAAK,EAAEC,MAAM,EAAK;MAC/BD,KAAK,CAACJ,KAAK,GAAGK,MAAM,CAACC,OAAO;MAC5BF,KAAK,CAACH,eAAe,GAAG,CAAC,CAACI,MAAM,CAACC,OAAO;MACxCV,YAAY,CAACW,OAAO,CAAC,OAAO,EAAEH,KAAK,CAACJ,KAAK,CAAC;IAC5C,CAAC;IACDQ,MAAM,EAAE,SAAAA,OAACJ,KAAK,EAAEC,MAAM,EAAK;MACzBD,KAAK,CAACJ,KAAK,GAAG,EAAE;MAChBI,KAAK,CAACH,eAAe,GAAG,KAAK;IAC/B;EACF;AACF,CAAC,CAAC;AAEF,OAAO,IAAMQ,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIT,KAAK,EAAK;EAC3C,IAAMU,WAAW;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,QAAQ,EAAK;MACtC,IAAI;QACFA,QAAQ,CAACV,YAAY,CAACH,KAAK,CAAC,CAAC;QAE7B,MAAMJ,YAAY,CAACW,OAAO,CAAC,OAAO,EAAEP,KAAK,CAAC;MAC5C,CAAC,CAAC,OAAOc,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IAAA,gBARKJ,WAAWA,CAAAM,EAAA;MAAA,OAAAL,IAAA,CAAAM,KAAA,OAAAC,SAAA;IAAA;EAAA,GAQhB;EACD,OAAOR,WAAW;AACpB,CAAC;AAEM,IAAAS,kBAAA,GAAiCtB,SAAS,CAACuB,OAAO;EAA1CjB,YAAY,GAAAgB,kBAAA,CAAZhB,YAAY;EAAEK,MAAM,GAAAW,kBAAA,CAANX,MAAM;AAAuB,SAAAL,YAAA,EAAAK,MAAA;AAC1D,OAAO,IAAMa,WAAW,GAAGxB,SAAS,CAACyB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}